{% extends "cinema/base.html" %}
{% load static %}

{% block content %}

<link rel="stylesheet" href="{% static 'cinema/css/order_food.css' %}">


<div class="order-container">
    <h1 class="title">πΏ μ‹μλ£ μ£Όλ¬Έν•κΈ°</h1>


    <form method="post" class="order-form" id="orderForm">
        {% csrf_token %}

        <div style="font-size:18px; margin-bottom:18px;">
            μ£Όλ¬Έν•  μ‹μλ£: <strong>{{ food.name }}</strong> ({{ food.price }}μ›)
        </div>

        <label>μλ‰</label>
        <input type="number" name="quantity" id="quantityInput" value="1" min="1" style="width:80px;">

        <div style="margin-top:15px; font-size:18px;">
            μ΄ κ°€κ²©: <span id="totalPrice">{{ food.price }}</span>μ›
        </div>

        <button type="submit" class="btn-order" style="margin-top:20px;">μ£Όλ¬Έν•κΈ°</button>
    </form>

    <a href="/" class="home-link">β† ν™μΌλ΅</a>
</div>

<script>
    const price = {{ food.price }};
    const quantityInput = document.getElementById('quantityInput');
    const totalPrice = document.getElementById('totalPrice');
    quantityInput.addEventListener('input', function() {
        let qty = parseInt(quantityInput.value) || 1;
        if (qty < 1) qty = 1;
        totalPrice.textContent = price * qty;
    });
</script>

{% endblock %}